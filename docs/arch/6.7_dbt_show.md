# dbt show

## Overview

`dbt show` compiles and executes a model or inline query, returning a preview of the results without materializing anything to the warehouse. It's useful for quickly testing SQL or viewing model output.

**Reference**: https://docs.getdbt.com/reference/commands/show

## Task Classes

### `ShowTask`

`ShowTask` extends `CompileTask` and uses `ShowRunner` to execute queries.

### `ShowTaskDirect`

For `--inline-direct`, a simpler task that bypasses manifest loading entirely is invoked, `ShowTaskDirect`

## Implementation Quirks

### Ephemeral Model Handling

`ShowRunner` sets `run_ephemeral_models = True`, which causes ephemeral upstream models to be executed inline (as CTEs) rather than skipped:

```python
class ShowRunner(CompileRunner):
    def __init__(self, ...):
        super().__init__(...)
        self.run_ephemeral_models = True
```

### `get_show_sql` Macro

The compiled SQL is wrapped by the `get_show_sql` macro which adds `LIMIT` and handles `sql_header`.

### Output Formatting

Results can be output as table (default) or JSON:

```python
if self.args.output == "json":
    table.to_json(path=output)
else:
    table.print_table(output=output, max_rows=None)
```

### `--limit` Behavior

`--limit` controls the number of rows returned. Use `-1` for unlimited (returning all available rows).

### Direct Mode (`--inline-direct`)

The `--inline-direct` flag executes raw SQL without any Jinja processing or manifest loading. This is the fastest path for quick queries.

## Examples

```bash
# Preview a model
dbt show --select my_model

# Preview with more rows
dbt show --select my_model --limit 100

# Execute inline query with refs
dbt show --inline "select * from {{ ref('orders') }} limit 10"

# Execute raw SQL directly (fastest)
dbt show --inline-direct "select current_timestamp()"
```
