# dbt docs

## Overview

`dbt docs` is a command group with two subcommands:
- `dbt docs generate`: Creates documentation website artifacts
- `dbt docs serve`: Starts a local web server to view documentation

**Reference**: https://docs.getdbt.com/reference/commands/cmd-docs

## Subcommand: `dbt docs generate`

### Task Class: `GenerateTask`

`GenerateTask` extends `CompileTask` and produces three artifacts:
1. `manifest.json`: Full project manifest
2. `catalog.json`: Database metadata (tables, columns, stats)
3. Static HTML/CSS/JS for the documentation site

The task compiles the manifest, queries database metadata for the catalog (unless `--empty-catalog`), and writes both artifacts.

### Catalog Generation

The catalog is populated by querying the database's information schema via `adapter.get_catalog()`. This retrieves table/column metadata for all relations in the selected schemas.

### `--static` Flag

When set, copies the static documentation site files (HTML/CSS/JS) to the target directory.

### `--empty-catalog` Flag

Skips catalog generation entirely, producing an empty catalog. Useful for testing or when database access is slow.

### `--compile` / `--no-compile`

Controls whether to compile the manifest with full Jinja rendering, or use the manifest as-is from parsing.

### Flags

| Flag | Description |
|------|-------------|
| `--select` | Generate docs for selected nodes only |
| `--static` | Copy static site files to target |
| `--empty-catalog` | Skip catalog generation |
| `--no-compile` | Skip SQL compilation |

---

## Subcommand: `dbt docs serve`

### Task Class: `ServeTask`

`ServeTask` extends `ConfiguredTask` and starts a local HTTP server in the target directory, then opens the browser.

### No Manifest Required

Unlike most commands, `docs serve` doesn't load the manifestâ€”it just serves static files. Only `@requires.runtime_config` is needed (for the target path).

### Browser Opening

By default, opens the browser automatically. Disable with `--no-browser`.

### Flags

| Flag | Description |
|------|-------------|
| `--host` | Server host (default: `127.0.0.1`) |
| `--port` | Server port (default: `8080`) |
| `--browser` / `--no-browser` | Open browser automatically |

## Artifacts

### `catalog.json`

Contains database metadata:

```json
{
  "nodes": {
    "model.my_project.orders": {
      "metadata": {
        "type": "table",
        "schema": "public",
        "name": "orders"
      },
      "columns": {
        "id": {"type": "integer", "index": 1},
        "status": {"type": "varchar", "index": 2}
      },
      "stats": {
        "row_count": {"value": 1000, "label": "Row Count"}
      }
    }
  }
}
```

### Documentation Site

The static site reads `manifest.json` and `catalog.json` at runtime to render:
- Model lineage DAG
- Column-level documentation
- Test coverage
- Source freshness
