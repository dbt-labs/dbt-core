unit_tests:
  - name: test_outer
    description: "A simple test of the outer model"
    model: outer
    versions:
      include:
      exclude:
    config:
      enabled: true
      meta:
        my_custom_meta_key: "my_custom_meta_value"
      tags:
        - "test_tag"
    given:
      - input: ref('ephemeral')
        format: sql
        rows: |
          "SELECT 1 as id, '2021-01-01' as created_at
    expect:
      format: dict
      rows:
        - {id: 1, created_at: "2021-01-01"}
    overrides:
      macros:
        is_incremental: true
      vars: {}
      env_vars: {}
  - name: test_outer_2
    description: "A simple test of the outer model"
    model: outer
    given:
      - input: ref('ephemeral')
        format: csv
        fixture: test_outer_fixture
    expect:
      format: csv
      fixture: test_outer_fixture
